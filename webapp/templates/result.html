{% extends "base.html" %}
{% block title %}Result{% endblock %}
{% block head %}
{{ super() }}
{% endblock %}
{% block content %}
<div class='max-space'>
  {% if isBlur %}
  <div class="alert alert-info" role="alert">
    Note: Do you mean <strong>{{rankedMovieTitles[0].title | e}}</strong> instead of <strong>{{query | e}}</strong>[{{rankedMovieTitles[0].rank}}]?
    <br/>Here are other suggestions:
    {% for rankedMovie in rankedMovieTitles[1:] %}
    <a href='/result?query={{rankedMovie.title}}'>{{loop.index}}. {{rankedMovie.title | e}}[{{rankedMovie.rank | round(2) }}]</a> |
    {% endfor %}
  </div>
  {% endif %}
  <div class='container result-space'>
    <div class='row'>
      <div class='col-lg-8 col-md-10'>

        {% for result in results %}
          {%if loop.first%}
          <div class='hori-divider'>
            Found <strong>{{results|length}}</strong>
              {% if results|length > 1 %}results{% else %}result{% endif %}
          </div>
          {% endif%}
          <div  class='result-entry'>
            <div onclick="go('{{result.url}}')" class='result-header'>
              <a href="#">
                {{result.itemReviewed.name}} | {{result.publisher.name}}
              </a>
            </div>
            <p>{{result.description or 'No description found'}}</p>
          </div>
        {% else %}
        <div class='empty-result'>
          <h3>We could not match any documents for your search - <span class="label label-info">{{query | e}}</span></h3>
          <br/>
          <strong>Suggestions</strong>:
          <br/>
          - Make sure that all words are spelled correctly.
          <br/>
          - Try different movies.
          <br/>
        </div>

        {% endfor %}
      </div>
      <div class='col-lg-4 vert-divider'>
      </div>
    </div>
  </div>
</div>


{% endblock %}


{% block js %}
{{ super() }}
{% endblock %}
